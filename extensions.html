

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Extensions of the Whipple Model &mdash; Human Control of a Bicycle: Jason K. Moore</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="Human Control of a Bicycle: Jason K. Moore" href="index.html" />
    <link rel="next" title="Physical Parameters" href="physicalparameters.html" />
    <link rel="prev" title="Bicycle Equations Of Motion" href="eom.html" />
 

<!-- Google Scholar metadata -->
<meta name="citation_title" content="Human Control of a Bicycle"/>
<meta name="citation_author" content="Moore, Jason Keith"/>
<meta name="resource_type" content="Dissertation"/>
<meta name="citation_dissertation_institution" content="University of California, Davis"/>
<meta name="citation_publication_date" content="2012/08/21"/>
<meta name="citation_pdf_url" content="http://mae.ucdavis.edu/~biosport/jkm/dissertation/HumanControlofaBicycle.pdf"/>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-15966419-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>Human Control of a Bicycle: Jason K. Moore</span></a></h1>
        <h2 class="heading"><span>Extensions of the Whipple Model</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="eom.html">Bicycle Equations Of Motion</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="physicalparameters.html">Physical Parameters</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        

  <div class="section" id="extensions-of-the-whipple-model">
<span id="extensions"></span><h1>Extensions of the Whipple Model<a class="headerlink" href="#extensions-of-the-whipple-model" title="Permalink to this headline">¶</a></h1>
<div class="section" id="preface">
<h2>Preface<a class="headerlink" href="#preface" title="Permalink to this headline">¶</a></h2>
<p>After I had derived the Whipple model, it was natural to start thinking about
extending it to understand various other phenomena. It turned out that one of
Mont&#8217;s former students, David de Lorenzo, had worked on adding rider
biomechanical degrees of freedom to the Whipple model in the early 90&#8217;s,
submitted the work to Vehicle System Dynamics but never resubmitted after the
first round of reviews, and the work was still sitting dormant in Mont&#8217;s files.
Luke and I had just finished our preliminary exams and decided to try to write
a paper for the 2007 International Symposium on Computer Simulation in
Biomechanics. de Lorenzo&#8217;s work inspired us to explore a model with more
realistic rider motion, which we based on this dormant model. This was the
first of several model extensions I developed for various reasons over the
years. Others included variations on the rider biomechanics and models of
unusual bicycle products such as the Swing Bike and Gyro Bike. This chapter
details the findings from some of the models.</p>
</div>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The Whipple model is an ideal basic model and platform from which to explore
more realistic models of both the bicycle and the rider. It has been
demonstrated that the linear Whipple model can reliably predict the motion of a
riderless uncontrolled bicycle <a class="reference internal" href="zreferences.html#kooijman2006">[Koo06]</a>, <a class="reference internal" href="zreferences.html#kooijman2008">[KSM08]</a>,
<a class="reference internal" href="zreferences.html#kooijman2009">[KS09]</a>, <a class="reference internal" href="zreferences.html#stevens2009">[Ste09]</a>, <a class="reference internal" href="zreferences.html#escalona2011">[ER11]</a> for speeds in
and around the stable speed range. But the Whipple model may certainly be
limited in it&#8217;s ability to predict the motion of the bicycle and rider as an
integrated system. A person&#8217;s body keeps its shape through passive joint
forces, unconscious active control and conscious active control. Assuming no
active control and lumping the unconscious control with the passive control one
can potentially model the rider as flexible assembly of many bodies. Secondly,
the rider&#8217;s weight is typically 80 to 90 percent of the entire system, which
potentially invalidates the knife edge wheel assumptions employed in the
Whipple model. Here I present several bicycle models that attempt to explain
some of the rider&#8217;s passive dynamics and also a model with a passive stability
augmentation device. The models are all based on the basic formulation of the
Whipple model in Chapter <a class="reference internal" href="eom.html#eom"><em>Bicycle Equations Of Motion</em></a> and make use of the variables defined
therein. Various combinations of these model extensions are used in the later
Chapters for analysis of more complicated systems.</p>
</div>
<div class="section" id="notation">
<h2>Notation<a class="headerlink" href="#notation" title="Permalink to this headline">¶</a></h2>
<p>Each model presented in this chapter makes use of the notation defined in
Chapter <a class="reference internal" href="eom.html#eom"><em>Bicycle Equations Of Motion</em></a> otherwise each model in each section is treated
independently and may use the same notation of the other models.</p>
</div>
<div class="section" id="lateral-force-input">
<h2>Lateral Force Input<a class="headerlink" href="#lateral-force-input" title="Permalink to this headline">¶</a></h2>
<p>The Whipple model is typically defined with three inputs: roll torque
<span class="math">\(T_4\)</span>, rear wheel torque <span class="math">\(T_6\)</span>, and steer torque <span class="math">\(T_7\)</span>. These
ideal inputs are not necessarily easy to map to the actual inputs to the
system. In particular, it is generally not possible to execute a pure roll
torque, but a lateral force from the environment is much easier. This type of
input has long been used and modeled, e.g. <a class="reference internal" href="zreferences.html#roland1973b">[Rol73]</a> uses a lateral
perturbation in modeling and experimentation of a motorcycle.</p>
<p>Here I add a fourth input, a lateral force <span class="math">\(F_{c_l}\)</span>, which acts at a
point on the rear frame, <span class="math">\(c_l\)</span>. The force is defined such that it is
always in the <span class="math">\(\hat{n}_2\)</span> direction and acts on the point located in the
mid-plane of the bicycle frame. The <span class="math">\(\hat{n}_2\)</span> direction is chosen
instead of the yaw frame&#8217;s <span class="math">\(\hat{a}_2\)</span> direction because it better models
the impulsive forces applied in the experiments detailed in Chapter
<a class="reference internal" href="systemidentification.html#systemidentification"><em>System Identification</em></a>. The force can describe a person walking beside a
bicycle and simply pushing laterally on the rear frame. One can even think of
it as a simplified version of the resultant force from lateral wind gust,
although a gust would also apply a force to the front frame.</p>
<p>The vector from the rear wheel center to the lateral force point is</p>
<div class="math" id="equation-eqLateralForcePoint">
<span class="eqno">(1)</span>\[\bar{r}^{c_l/d_o} = d_4\hat{c}_1 + d_5\hat{c}_3\]</div>
<p>The velocity of the point is</p>
<div class="math" id="equation-eqClInN">
<span class="eqno">(2)</span>\[^N\bar{v}^{c_l} = {}^N\bar{v}^{d_o} + {}^N\bar\omega^C\times\bar{r}^{c_l/d_o}\]</div>
<p>where</p>
<div class="math">
\[\begin{split}^N\bar\omega^C\times\bar{r}^{c_l/d_o} =
d_5(u_5+s_4u_3)\hat{c}_1 +
&amp;(d_4(s_5u_4+c_4c_5u_3)-d_5(c_5u_4-s_5c_4u_3))\hat{c}_2 -
d_4(u_5+s_4u_3)\hat{c}_3\end{split}\]</div>
<p>To form the equations of motion, an additional generalized active force dot
multiplied with the partial velocities of the point is required. The
generalized active force is simply</p>
<div class="math" id="equation-eqLateralForce">
<span class="eqno">(3)</span>\[\bar{R}^{c_l} = F_{c_l}\hat{n}_2\]</div>
<p>The non-linear and linear models are computed in the same fashion as described
in Chapter <a class="reference internal" href="eom.html#eom"><em>Bicycle Equations Of Motion</em></a>, with an additional column in both the input,
<span class="math">\(\mathbf{B}\)</span>, and feed-forward, <span class="math">\(\mathbf{D}\)</span>, matrices
corresponding to the new input force. Unlike a pure roll torque this force can
effectively contribute to both the roll and steer torques. The location of the
point determines the contribution.</p>
<p><a class="reference internal" href="#figlatforceimp"><em>Figure 4.1</em></a> compares the impulse response for roll torque
to that of a lateral force at the seat for a particular bicycle
within its stable speed range. Notice that the lateral force input does not
excite the system with as large amplitudes but that the response is similar.
The amplitude is a function of where the force is applied. If the force is
applied directly above the rear wheel contact at a height of unity from the
ground, the response will be identical.</p>
<div class="figure align-center" id="figlatforceimp">
<a class="reference external image-reference" href="_images/lat-force-impulse.png"><img alt="_images/lat-force-impulse.png" src="_images/lat-force-impulse.png" style="width: 4in;" /></a>
<p class="caption">Impulse responses for the roll angle, <span class="math">\(q_4\)</span>, and steer angle,
<span class="math">\(q_7\)</span>, for a roll torque input (blue) and the lateral force input at a
point just below the seat (red). The numerical parameters were generated
from the data of Jason on the Davis instrumented bicycle and the equations
were linearized at a forward speed of 7 m/s. Plot generated by
<cite>src/extensions/lateral/lateral_force.m`</cite>.</p>
</div>
<p><a class="reference internal" href="#figlatforcebode"><em>Figure 4.2</em></a> shows the frequency response in a similar
fashion as the impulse response. The responses for both input types are very
similar for this frequency range, with the difference in magnitudes a function
of the distance the lateral force is from the rear wheel contact point.</p>
<div class="figure align-center" id="figlatforcebode">
<a class="reference external image-reference" href="_images/lat-force-bode.png"><img alt="_images/lat-force-bode.png" src="_images/lat-force-bode.png" style="width: 5in;" /></a>
<p class="caption">Frequency responses for the roll angle, <span class="math">\(q_4\)</span>, and steer angle,
<span class="math">\(q_7\)</span>, for a roll torque input (blue) and the lateral force input at a
point just below the seat (red). The numerical parameters were generated
from the data of Jason on the Davis instrumented bicycle and the equations
were linearized at a forward speed of 7 m/s. Plot generated by
<tt class="docutils literal"><span class="pre">src/extensions/lateral/lateral_force.m</span></tt>.</p>
</div>
<p>This model is used extensively in the later chapters for modeling and
simulation of lateral perturbation experiments.</p>
<div class="section" id="id7">
<h3>Notation<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><span class="math">\(c_l\)</span></dt>
<dd>The point at which the lateral force is applied.</dd>
<dt><span class="math">\(d_4,d_5\)</span></dt>
<dd>The distances which locate the lateral force point <span class="math">\(c_l\)</span>.</dd>
<dt><span class="math">\(F_{cl}\)</span></dt>
<dd>The magnitude of the lateral force.</dd>
</dl>
</div>
</div>
<div class="section" id="rider-arms">
<span id="secriderarms"></span><h2>Rider Arms<a class="headerlink" href="#rider-arms" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="zreferences.html#schwab2010">[SK10b]</a> and <a class="reference internal" href="zreferences.html#schwab2012">[SMK12]</a> has shown that the addition of the
inertial effects of the arms can significantly alter the open loop dynamics of
the bicycle-rider system, and most importantly, that a typical bicycle and
rider may not have a stable speed range. As will be described in Chapter
<a class="reference internal" href="davisbicycle.html#davisbicycle"><em>Davis Instrumented Bicycle</em></a>, we rigidified the rider&#8217;s torso and legs with respect to
the rear frame of the bicycle. The rider was then only able to make use of
their arms to control the bicycle. The Whipple model does not take into account
the dynamic motion of the arms and certainly not the fact that steer torques
are actually generated from the muscle contraction and flexion in the riders
arms. Being that our riders were able to move their arms and the motion can
have significant effect on the open loop dynamics, we developed a similar model
as the upright flexed arm model found in <a class="reference internal" href="zreferences.html#schwab2010">[SK10b]</a> and
<a class="reference internal" href="zreferences.html#schwab2012">[SMK12]</a>.</p>
<div class="figure align-center" id="figarmmodel">
<a class="reference external image-reference" href="_images/arm-model-diagram.png"><img alt="_images/arm-model-diagram.png" src="_images/arm-model-diagram.png" style="width: 3.56in;" /></a>
<p class="caption">Diagram of the additional arm bodies. Only the upper portion of the system
is shown. The rider&#8217;s torso, neck, and head are assumed to be part of the
rear frame rigid body, <span class="math">\(C\)</span>.</p>
</div>
<p>In most bicycle models, the front frame is externally forced to move with
respect to the rear frame through a torque applied between the rear frame and
the front frame. A more realistic model with arms would force the front frame
motion through joint torques in the arms. For simplicity&#8217;s sake and without
loss of generality we keep the steer torque, <span class="math">\(T_4\)</span>, as the driving torque
but retain the associated motion of the arms. The inertial effects of the arms
can then be captured by adding four additional rigid bodies to the Whipple
model for the left and right upper and lower arm segments and introducing
enough constraints such that the additional degrees of freedom are removed
<a class="reference internal" href="#figarmmodel"><em>Figure 4.3</em></a>. The arms are assumed to symmetric with respect
to the sagittal plane when in the nominal configuration. The four new bodies
are defined as:</p>
<dl class="docutils">
<dt><span class="math">\(G\)</span>:</dt>
<dd>right upper arm</dd>
<dt><span class="math">\(H\)</span>:</dt>
<dd>right lower arm</dd>
<dt><span class="math">\(I\)</span>:</dt>
<dd>left upper arm</dd>
<dt><span class="math">\(J\)</span>:</dt>
<dd>left lower arm</dd>
</dl>
<p>The right and left upper arms are each oriented through body fixed 1-2-3
rotations through the abduction, elevation and rotation angles <span class="math">\(q_9\)</span>,
<span class="math">\(q_{10}\)</span>, <span class="math">\(q_{11}\)</span> and <span class="math">\(q_{13}\)</span>, <span class="math">\(q_{14}\)</span>,
<span class="math">\(q_{15}\)</span> for the right and left arms respectively.</p>
<div class="math" id="equation-eqRightShoulder">
<span class="eqno">(4)</span>\[\begin{split}^C\mathbf{R}^G =
\begin{bmatrix}
c_{10}c_{11} &amp; -c_{10}s_{11} &amp; s_{10}\\
s_9s_{10}c_{11} + s_{11}c_9 &amp; -s_9s_{10}s_{11} + c_{11}c_9 &amp; -s_9c_{10}\\
-c_9s_{10}c_{11} + s_{11}s_9 &amp; c_9s_{10}s_{11} + c_{11}s_9 &amp; c_9c_{10}
\end{bmatrix}\end{split}\]</div>
<div class="math" id="equation-eqLeftShoulder">
<span class="eqno">(5)</span>\[\begin{split}^C\mathbf{R}^I =
\begin{bmatrix}
c_{14}c_{15} &amp; -c_{14}s_{15} &amp; s_{14}\\
s_{13}s_{14}c_{15} + s_{15}c_{13} &amp; -s_{13}s_{14}s_{15} + c_{15}c_{13} &amp; -s_{13}c_{14}\\
-c_{13}s_{14}c_{15} + s_{15}s_{13} &amp; c_{13}s_{14}s_{15} + c_{15}s_{13} &amp; c_{13}c_{14}
\end{bmatrix}\end{split}\]</div>
<p>The right and left lower arms are oriented through simple rotations through
<span class="math">\(q_{12}\)</span> and <span class="math">\(q_{16}\)</span> with respect to the upper arms at the elbow
joint.</p>
<div class="math" id="equation-eqGtoH">
<span class="eqno">(6)</span>\[\begin{split}^G\mathbf{R}^H =
\begin{bmatrix}
  c_{12} &amp; 0 &amp; -s_{12}\\
  0 &amp; 1 &amp; 0\\
  s_{12} &amp; 0 &amp; c_{12}
\end{bmatrix}\end{split}\]</div>
<div class="math" id="equation-eqItoJ">
<span class="eqno">(7)</span>\[\begin{split}^I\mathbf{R}^J =
\begin{bmatrix}
  c_{16} &amp; 0 &amp; -s_{16}\\
  0 &amp; 1 &amp; 0\\
  s_{16} &amp; 0 &amp; c_{16}
\end{bmatrix}\end{split}\]</div>
<p>This definition differs from <a class="reference internal" href="zreferences.html#schwab2010">[SK10b]</a> and will allow full non-linear
unlocked motion of the arms. Schwab&#8217;s joint configuration limits the model to
be valid only in and around the linear equilibrium point presented therein.</p>
<p>The right and left shoulders are located in the rear frame by</p>
<div class="math" id="equation-eqShoulders">
<span class="eqno">(8)</span>\[\bar{r}^{s_r/d_o} = d_6 \hat{c}_1 + d_7 \hat{c}_2 + d_8 \hat{c}_3\]\[\bar{r}^{s_l/d_o} = d_6 \hat{c}_1 - d_7 \hat{c}_2 + d_8 \hat{c}_3\]</div>
<p>The right and left elbows are located by</p>
<div class="math" id="equation-eqElbows">
<span class="eqno">(9)</span>\[\bar{r}^{e_r/s_r} = d_{12} \hat{g}_3\]\[\bar{r}^{e_l/s_l} = d_{12} \hat{i}_3\]</div>
<p>The upper and lower arm mass centers are located by</p>
<div class="math" id="equation-eqArmCoM">
<span class="eqno">(10)</span>\[\bar{r}^{g_o/s_r} = l_5 \hat{g}_3\]\[\bar{r}^{h_o/e_r} = l_6 \hat{i}_3\]\[\bar{r}^{i_o/s_l} = l_5 \hat{i}_3\]\[\bar{r}^{j_o/e_l} = l_6 \hat{j}_3\]</div>
<p>The hands are located by</p>
<div class="math">
\[\bar{r}^{h_r/e_r} = d_{13} \hat{h}_3\]\[\bar{r}^{h_l/e_l} = d_{13} \hat{j}_3\]</div>
<p>The handlebar grips are located by</p>
<div class="math" id="equation-eqGrips">
<span class="eqno">(11)</span>\[\bar{r}^{g_r/f_o} = d_9 \hat{e}_1 + d_{10} \hat{e}_2 + d_{11} \hat{e}_3\]\[\bar{r}^{g_l/f_o} = d_9 \hat{e}_1 - d_{10} \hat{e}_2 + d_{11} \hat{e}_3\]</div>
<p>To enforce that the hands remain on the grips, I first introduce six holonomic
constraints embodied in</p>
<div class="math" id="equation-eqHandsOnGrips">
<span class="eqno">(12)</span>\[\bar{r}^{h_r/s_r} - \bar{r}^{g_r/s_r} = 0\]\[\bar{r}^{h_l/s_l} - \bar{r}^{g_l/s_l} = 0\]</div>
<p>After forcing the hands to be at the grips this leaves two degrees of freedom,
one for each arm. The free motion is such that the arms can rotate about the
lines connecting the shoulders to the grips. I choose to eliminate these two
degrees of freedom by forcing the arms to always &#8220;hang down&#8221; relative to the rear
frame, i.e. that the vector aligned with the elbow has no component in the
downward direction of the roll frame, <span class="math">\(B\)</span>.</p>
<div class="math" id="equation-eqArmsDown">
<span class="eqno">(13)</span>\[\hat{g}_2 \cdot \hat{b}_3 = 0\]\[\hat{i}_2 \cdot \hat{b}_3 = 0\]</div>
<p>This assumption is limited in validity to small pitch angles, as a large pitch
angles would cause the riders arms to rotate in odd positions. A better
constraint would be to dot with a vector in the <span class="math">\(C\)</span> frame which is
aligned with <span class="math">\(\hat{b}_3\)</span> when the bicycle is not pitched, but this
definition would require a new geometric parameter so I chose the former, i.e.
Equation <a href="#equation-eqArmsDown">(13)</a>.</p>
<p>With these eight holonomic constraints, the model now has three degrees of
freedom which are the same number as the Whipple model, but with the added
inertial effects of the arms. The expressions for the velocities and
accelerations of the mass centers of the four new bodies needed to form the
equations of motion are lengthy and they are omitted here. Please refer to the
source code for the equations: <tt class="docutils literal"><span class="pre">src/extensions/arms/Arms.al</span></tt>.</p>
<p>The generalized active forces remain the same as described in Chapter
<a class="reference internal" href="eom.html#eom"><em>Bicycle Equations Of Motion</em></a> with the addition of the lateral force described in the previous
section. The generalized inertia forces must be modified to include the
accelerations of the mass centers along with the mass and inertia of the new
bodies. The masses are simply defined as <span class="math">\(m_g\)</span>, <span class="math">\(m_h\)</span>, <span class="math">\(m_i\)</span>
and <span class="math">\(m_j\)</span>. The arms segments are assumed to be symmetric about their
associated <span class="math">\(3\)</span> axes, thus <span class="math">\(I_{11} = I_{22}\)</span>.</p>
<div class="math" id="equation-eqIUpperArm">
<span class="eqno">(14)</span>\[\begin{split}\mathbf{I}_G =
\begin{bmatrix}
  I_{G11} &amp; 0 &amp; 0\\
  0 &amp; I_{G11} &amp; 0\\
  0 &amp; 0 &amp; I_{G33}
\end{bmatrix}
=
\mathbf{I}_I =
\begin{bmatrix}
  I_{I11} &amp; 0 &amp; 0\\
  0 &amp; I_{I11} &amp; 0\\
  0 &amp; 0 &amp; I_{I33}
\end{bmatrix}\end{split}\]</div>
<div class="math" id="equation-eqILowerArm">
<span class="eqno">(15)</span>\[\begin{split}\mathbf{I}_H =
\begin{bmatrix}
  I_{H11} &amp; 0 &amp; 0\\
  0 &amp; I_{H11} &amp; 0\\
  0 &amp; 0 &amp; I_{H33}
\end{bmatrix}
=
\mathbf{I}_J =
\begin{bmatrix}
  I_{J11} &amp; 0 &amp; 0\\
  0 &amp; I_{J11} &amp; 0\\
  0 &amp; 0 &amp; I_{J33}
\end{bmatrix}\end{split}\]</div>
<p>With this information the equations of motion can be formed with Kane&#8217;s method
as described in Chapter <a class="reference internal" href="eom.html#eom"><em>Bicycle Equations Of Motion</em></a>. Special care must be taken when linearizing
the equations of motion due to the eight holonomic constraints. The additional
generalized coordinates, <span class="math">\(q_9\)</span> through <span class="math">\(q_{16}\)</span>, are dependent
coordinates and are ultimately functions of the pitch and steer angles. The
chain rule must be properly applied or the independent coordinates must be
solved for when expanding the Taylor series and forming the Jacobian matrices.</p>
<p>Figures <a class="reference internal" href="#figarmsrootlocus"><em>4.4</em></a> and <a class="reference internal" href="#figarmseig"><em>4.5</em></a> show how the
eigenvalues vary with speed with respect to the nominal configuration
equilibrium point. There are three distinct modes for all speeds shown, two of
which are real and one that is complex. The oscillatory mode is always stable,
unlike the weave mode in the Whipple model. Secondly, one real mode is always
unstable and the other is always stable. The addition of the arms&#8217; inertial
effects causes the system to not have a stable speed range unlike the
prediction of the Whipple model.</p>
<div class="figure align-center" id="figarmsrootlocus">
<a class="reference external image-reference" href="_images/arms-root-locus.png"><img alt="_images/arms-root-locus.png" src="_images/arms-root-locus.png" style="width: 4in;" /></a>
<p class="caption">The root locus with respect to speed of the Whipple model with arms for the
parameter set associated with Jason seated on the Davis instrumented bicycle
calculated with the Yeadon method. Generated with
<tt class="docutils literal"><span class="pre">src/extensions/arms/plot_eig.py</span></tt>.</p>
</div>
<div class="figure align-center" id="figarmseig">
<a class="reference external image-reference" href="_images/arms-eig.png"><img alt="_images/arms-eig.png" src="_images/arms-eig.png" style="width: 4in;" /></a>
<p class="caption">The components of the eigenvalues with respect to speed of the Whipple model
with arms for the parameter set associated with Jason seated on the Davis
instrumented bicycle calculated with the Yeadon method. This plot shares
similar characteristics as the one presented in <a class="reference internal" href="zreferences.html#schwab2010">[SK10b]</a>. Generated
with <tt class="docutils literal"><span class="pre">src/extensions/arms/plot_eig.py</span></tt>.</p>
</div>
<p>One may be quick to parallel the three modes of motion to the weave, capsize,
and caster modes of the Whipple model, but closer examination of the
eigenvectors reveals that the motions are not quite the same. Figures
<a class="reference internal" href="#figarmsphasorhalf"><em>4.6</em></a>, <a class="reference internal" href="#figarmsphasorthree"><em>4.7</em></a>,
<a class="reference internal" href="#figarmsphasorfive"><em>4.8</em></a>, and <a class="reference internal" href="#figarmsphasoreight"><em>4.9</em></a> are phasor
plots of the eigenvector components at various speeds which correspond to the
ones given in previous chapter for the Whipple model.</p>
<p>The phasor diagrams show that the most negative real eigenmode is not as nearly
as fast as the caster mode and it is no longer dominated by steer angle. The
mode decays in both roll and steer with roll dominant at low speeds and steer
at high speeds. The unstable real eigenmode is dominant in roll angle and slows
with increasing speed like the Whipple model, but is unstable for the given
speeds. The stable oscillatory mode is dominant in steer at low speeds and
roll at high speeds. The 0.5 m/s case is interesting in that the mode is
primarily a stable oscillation in steer angle around 0.3 hertz. As the speed
increases the larger roll angle magnitude is different in behavior than the
Whipple weave mode.</p>
<div class="figure align-center" id="figarmsphasorhalf">
<a class="reference external image-reference" href="_images/arms-phasor-half.png"><img alt="_images/arms-phasor-half.png" src="_images/arms-phasor-half.png" style="width: 6in;" /></a>
<p class="caption">Normalized eigenvector components plotted in the real/imaginary plane for
each mode at a forward speed of 0.5 m/s. Only the roll angle, <span class="math">\(q_4\)</span>,
and steer angle, <span class="math">\(q_7\)</span>, components are shown. Generated with
<tt class="docutils literal"><span class="pre">src/extensions/arms/plot_eig.py</span></tt>.</p>
</div>
<div class="figure align-center" id="figarmsphasorthree">
<a class="reference external image-reference" href="_images/arms-phasor-three.png"><img alt="_images/arms-phasor-three.png" src="_images/arms-phasor-three.png" style="width: 6in;" /></a>
<p class="caption">Normalized eigenvector components plotted in the real/imaginary plane for
each mode at a forward speed of 3.0 m/s. Only the roll angle, <span class="math">\(q_4\)</span>,
and steer angle, <span class="math">\(q_7\)</span>, components are shown. Generated with
<tt class="docutils literal"><span class="pre">src/extensions/arms/plot_eig.py</span></tt>.</p>
</div>
<div class="figure align-center" id="figarmsphasorfive">
<a class="reference external image-reference" href="_images/arms-phasor-five.png"><img alt="_images/arms-phasor-five.png" src="_images/arms-phasor-five.png" style="width: 6in;" /></a>
<p class="caption">Normalized eigenvector components plotted in the real/imaginary plane for
each mode at a forward speed of 5.0 m/s. Only the roll angle, <span class="math">\(q_4\)</span>,
and steer angle, <span class="math">\(q_7\)</span>, components are shown. Generated with
<tt class="docutils literal"><span class="pre">src/extensions/arms/plot_eig.py</span></tt>.</p>
</div>
<div class="figure align-center" id="figarmsphasoreight">
<a class="reference external image-reference" href="_images/arms-phasor-eight.png"><img alt="_images/arms-phasor-eight.png" src="_images/arms-phasor-eight.png" style="width: 6in;" /></a>
<p class="caption">Normalized eigenvector components plotted in the real/imaginary plane for
each mode at a forward speed of 8.0 m/s. Only the roll angle, <span class="math">\(q_4\)</span>,
and steer angle, <span class="math">\(q_7\)</span>, components are shown. Generated with
<tt class="docutils literal"><span class="pre">src/extensions/arms/plot_eig.py</span></tt>.</p>
</div>
<div class="section" id="id14">
<h3>Notation<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><span class="math">\(G,J,I,J\)</span></dt>
<dd>The arm rigid bodies.</dd>
<dt><span class="math">\(d_6\)</span>-<span class="math">\(d_{13}\)</span></dt>
<dd>Geometric distances to locate the arm joints.</dd>
<dt><span class="math">\(s_r,e_r,h_r,g_r,s_l,e_l,h_l,g_l\)</span></dt>
<dd>Points on the arms and handlebars: (s)houlder, (e)lbow, (h)and, and (g)rip.
Subscripts: (l)eft and (r)ight.</dd>
<dt><span class="math">\(m_g,m_h,m_i,m_j\)</span></dt>
<dd>The masses of the arm rigid bodies.</dd>
<dt><span class="math">\(\mathbf{I}_G,\mathbf{I}_H,\mathbf{I}_I,\mathbf{I}_J\)</span></dt>
<dd>The inertia tensors of the arm rigid bodies defined about the mass center
and with respect to the local reference frame.</dd>
</dl>
</div>
</div>
<div class="section" id="front-wheel-flywheel">
<h2>Front wheel flywheel<a class="headerlink" href="#front-wheel-flywheel" title="Permalink to this headline">¶</a></h2>
<p>Another model extension of interest involves addition of an extra rotating
wheel coincident with the front wheel. It is well known that that increasing
the angular momentum of the front wheel via change in inertia
(<a class="reference internal" href="zreferences.html#astrom2005">[ASKL05]</a>, <a class="reference internal" href="zreferences.html#franke1990">[FSR90]</a>) or rotational speed, has a strong
effect on the stability of the Whipple model. For the benchmark bicycle
<a class="reference internal" href="zreferences.html#meijaard2007">[MPRS07]</a>, independently increasing the moment of inertia of the
front wheel, decreases both the weave and capsize speeds. A low weave speed may
provide open loop stability advantages to riders at low speed, with the
reasoning that a stable bicycle may require less rider control. Conversely, it
has also been shown both that a bicycle without gyroscopic effects can be
stable <a class="reference internal" href="zreferences.html#kooijman2011">[KMP+11]</a> and that humans can ride them <a class="reference internal" href="zreferences.html#jones1970">[Jon70]</a>
with little difficulty. The idea that gyroscopic action can stabilize a moving
two wheeled vehicle has been demonstrated as early as the dawn of the 20th
century, with the invention of the gyro monorail and the gyro car
(<a class="reference internal" href="zreferences.html#wikipediagyromonorail2012">[Wik12a]</a>, <a class="reference internal" href="zreferences.html#wikipediagyrocar2012">[Wik12b]</a>) which made
use of control servos to gyros to applied roll righting torques to the single
track vehicles. Of more recent interest, several engineering students at
Dartmouth University applied this theory to a compact flywheel mounted within
the spokes of a children&#8217;s bicycle wheel <a class="reference internal" href="zreferences.html#ward2006">[War06]</a> taking advantage of
the fact that the flywheel imparts torques such that the bicycle steers into
the fall. This has since been developed into a commercially available product,
the GyroBike, that claims to allow children to learn to ride more easily, due
to the bicycle&#8217;s increased stability at low speeds. I was given an article
about the bicycle from the Dartmouth alumni magazine, subsequently met the
woman who created the startup company around the idea in San Francisco, was
able to test ride the full scale prototype, and eventually purchased a 12&#8221;
version of the bicycle. The bicycle alone stays very stable even to extremely
low speeds, but when I, as an experienced rider, tried to ride and control it
the steering felt less responsive than one would generally prefer.</p>
<p>The following video demonstrates that the gyrobike without a rider is
stabilized at 2 m/s when the flywheel is at full speed.</p>

<center>
  <iframe width="420" height="315"
    src="https://www.youtube.com/embed/YmtPNIu4WI0"
    frameborder="0" allowfullscreen>
  </iframe>
</center><p>Using the Whipple model presented in Chapter <a class="reference internal" href="eom.html#eom"><em>Bicycle Equations Of Motion</em></a> as a base, the
flywheel&#8217;s effect can be modeled by adding an additional symmetric rigid body,
<span class="math">\(G\)</span> with mass <span class="math">\(m_g\)</span> to the system which rotates about the front
wheel axis though a new generalized coordinate, <span class="math">\(q_9\)</span>. The angular
velocity and acceleration of the new body are defined with the simple
kinematical differential equation</p>
<div class="math" id="equation-eqQ9">
<span class="eqno">(16)</span>\[^F\omega^G = \dot{q}_9 \hat{e}_2 = u_9 \hat{e}_2\]</div>
<p>where</p>
<div class="math" id="equation-eqU9">
<span class="eqno">(17)</span>\[^F\alpha^G = \dot{u}_9 \hat{e}_2\]</div>
<p>The location of the flywheel center of mass is at the same point as the front
wheel center of mass, making the linear velocities and accelerations the
same as the front wheel</p>
<div class="math" id="equation-eqVGo">
<span class="eqno">(18)</span>\[^N\bar{v}^{g_o} = {}^N\bar{v}^{f_o}\]</div>
<div class="math" id="equation-eqAGo">
<span class="eqno">(19)</span>\[^N\bar{a}^{g_o} = {}^N\bar{a}^{f_o}\]</div>
<p>An additional torque, <span class="math">\(T_9\)</span>, is required to drive the flywheel relative
to the front wheel</p>
<div class="math" id="equation-eqT9">
<span class="eqno">(20)</span>\[\bar{T}^F = -T_9\hat{e}_2\]\[\bar{T}^G = T_9\hat{e}_2\]</div>
<p>At this point, <span class="math">\(\tilde{F}_r\)</span>, can be formed with an additional equation
for the new degree of freedom.</p>
<p>The generalized inertia force, <span class="math">\(\tilde{F}^*_r\)</span> is formed by taking into
account the mass, <span class="math">\(m_g\)</span>, and inertia of the new body</p>
<div class="math" id="equation-eqIG">
<span class="eqno">(21)</span>\[\begin{split}\mathbf{I}_G =
\begin{bmatrix}
  I_{G11} &amp; 0 &amp; 0\\
  0 &amp; I_{G22} &amp; 0\\
  0 &amp; 0 &amp; I_{G11}
\end{bmatrix}\end{split}\]</div>
<p>The equations of motion are formed and linearized with respect to the nominal
equilibrium point and a nominal angular velocity of the flywheel. Figures
<a class="reference internal" href="#figgyrooff"><em>4.10</em></a>, <a class="reference internal" href="#figgyrovary"><em>4.11</em></a>,
<a class="reference internal" href="#figgyrooffrider"><em>4.12</em></a>, and <a class="reference internal" href="#figgyrovaryrider"><em>4.13</em></a> show how
adjusting the flywheel angular velocity can affect the stability of the bicycle
which may be beneficial for people learning to ride a bicycle. All of the plots
were generated using parameters measured from a production GyroBike and the
rider&#8217;s parameters were generated by scaling the Yeadon geometry of an adult,
Charlie, to child-size proportions which are detailed in Chapter
<a class="reference internal" href="physicalparameters.html#physicalparameters"><em>Physical Parameters</em></a>.</p>
<div class="figure align-center" id="figgyrooff">
<a class="reference external image-reference" href="_images/gyrobike-flywheel-off.png"><img alt="_images/gyrobike-flywheel-off.png" src="_images/gyrobike-flywheel-off.png" style="width: 4in;" /></a>
<p class="caption">The magnitudes of the eigenvalue components with respect to the forward speed
when the flywheel is fixed to the front wheel (i.e. has the same angular
velocity as the front wheel). The solid lines show the real parts and the
dotted lines show the imaginary parts, with color matching the parts for a
given eigenvalue. Generated by <tt class="docutils literal"><span class="pre">src/extensions/gyro/gyrobike_linear.py</span></tt>.</p>
</div>
<div class="figure align-center" id="figgyrovary">
<a class="reference external image-reference" href="_images/gyrobike-vary-flywheel.png"><img alt="_images/gyrobike-vary-flywheel.png" src="_images/gyrobike-vary-flywheel.png" style="width: 4in;" /></a>
<p class="caption">The magnitudes of the eigenvalue components with respect to the flywheel
angular speed when the forward velocity is 0.5 m/s. The solid lines show the
real parts and the dotted lines show the imaginary parts, with color
matching the parts for a given eigenvalue. Generated by
<tt class="docutils literal"><span class="pre">src/extensions/gyro/gyrobike_linear.py</span></tt>.</p>
</div>
<p><a class="reference internal" href="#figgyrooff"><em>Figure 4.10</em></a> depicts similar dynamics as one would expect from
a riderless bicycle with a relatively low weave critical speed (~2.25 m/s).
<a class="reference internal" href="#figgyrovary"><em>Figure 4.11</em></a> then shows that the very unstable system at low
speeds can certainly be made stable by increasing the angular velocity of the
flywheel. In particular the bicycle becomes stable around 1000 rpm but it is
also interesting to note that increasing the velocity too much (&gt; 3500 rpm)
results in an unstable system. The actual Gyrobike flywheel spins at speeds up
to 2000 rpm and riderless stability can clearly be observed.</p>
<div class="figure align-center" id="figgyrooffrider">
<a class="reference external image-reference" href="_images/gyrobike-flywheel-off-rider.png"><img alt="_images/gyrobike-flywheel-off-rider.png" src="_images/gyrobike-flywheel-off-rider.png" style="width: 4in;" /></a>
<p class="caption">The magnitudes of the eigenvalue components with respect to the forward
speed when the flywheel is fixed to the front wheel (i.e. has the same
angular velocity as the front wheel) and a rigid child is seated on the
bicycle. The solid lines show the real parts and the dotted lines show the
imaginary parts, with color matching the parts for a given eigenvalue.
Generated by <tt class="docutils literal"><span class="pre">src/extensions/gyro/gyrobike_linear.py</span></tt>.</p>
</div>
<div class="figure align-center" id="figgyrovaryrider">
<a class="reference external image-reference" href="_images/gyrobike-vary-flywheel-rider.png"><img alt="_images/gyrobike-vary-flywheel-rider.png" src="_images/gyrobike-vary-flywheel-rider.png" style="width: 4in;" /></a>
<p class="caption">The magnitudes of the eigenvalue components with respect to the flywheel
angular speed when the forward velocity is 0.5 m/s and a rigid child is
seated on the bicycle. The solid lines show the real parts and the dotted
lines show the imaginary parts, with color matching the parts for a given
eigenvalue. Generated by <tt class="docutils literal"><span class="pre">src/extensions/gyro/gyrobike_linear.py</span></tt>.</p>
</div>
<p><a class="reference internal" href="#figgyrooffrider"><em>Figure 4.12</em></a> shows that the weave critical speed with a
rider is only about 1 m/s greater than without a rider. <a class="reference internal" href="#figgyrooffrider"><em>Figure
4.13</em></a> shows that if a child-sized rider is rigidly added to
the rear frame that the flywheel must spin up to 3500 rpm for the system to be
stable and the time constant of the unstable eigenvalue does not decrease
significantly until the flywheel spins at 2000 rpm. Also as with the riderless
case, the system can be destabilized if the wheel spins at a high enough rate;
in this case about 7000 rpm.</p>
<div class="figure align-center" id="figgyrononlin">
<a class="reference external image-reference" href="_images/gyro-nonlin-sim.png"><img alt="_images/gyro-nonlin-sim.png" src="_images/gyro-nonlin-sim.png" style="width: 5in;" /></a>
<p class="caption">The open loop non-linear simulation of the gyro bicycle given the initial
conditions: <span class="math">\(u_4=0.5\)</span> rad/s, <span class="math">\(u_6=-v/r_R\)</span> where <span class="math">\(v=0.5\)</span>
m/s, <span class="math">\(u_9=-5000\)</span> rpm.</p>
</div>
<p><a class="reference internal" href="#figgyrononlin"><em>Figure 4.14</em></a> shows the resulting time history of the
non-linear model traveling at a very slow speed with the flywheel spinning fast
enough to stabilize the bicycle. The gyroscopic torques cause the steer angle
to decay rapidly in a steer into the fall. The conservative nature of the system
causes the forward speed to increase slightly. This is reflected as a decrease
in the flywheel rotational speed because it is defined with respect to the
front wheel.</p>
<p>This model and these examples give credence to the effectiveness of increasing
the angular momentum of the front wheel in stabilizing the bicycle. The
gyroscopic forces may not be necessary for stability but they have great power
in stabilizing even very unstable systems. This assistance does come a cost
though, both in the flywheel weight and the need to spin the flywheel at high
speeds. When the child rider&#8217;s inertia is accounted for, very high spin speeds
are needed to stabilize the system. And interestingly, increasing the flywheel
speed too much can destabilize the system, albeit only marginally.</p>
<div class="section" id="id23">
<h3>Notation<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><span class="math">\(G\)</span></dt>
<dd>The flywheel rigid body.</dd>
<dt><span class="math">\(m_g\)</span></dt>
<dd>Mass of the flywheel.</dd>
<dt><span class="math">\(q_9\)</span></dt>
<dd>Angle of the flywheel with respect to the front wheel.</dd>
<dt><span class="math">\(u_9\)</span></dt>
<dd>Angular rate of the flywheel with respect to the front wheel.</dd>
<dt><span class="math">\(g_o\)</span></dt>
<dd>Flywheel mass center.</dd>
<dt><span class="math">\(T_9\)</span></dt>
<dd>Torque acting between the front wheel and the flywheel.</dd>
<dt><span class="math">\(\mathbf{I}_G\)</span></dt>
<dd>Inertia tensor of the flywheel.</dd>
<dt><span class="math">\(v\)</span></dt>
<dd>The forward speed of the bicycle: <span class="math">\(v = - r_R u_6\)</span>.</dd>
</dl>
</div>
</div>
<div class="section" id="leaning-rider-extension">
<h2>Leaning rider extension<a class="headerlink" href="#leaning-rider-extension" title="Permalink to this headline">¶</a></h2>
<p>A common assumption regarding how a person biomechanically controls a bicycle
with minimal or no input via the handlebars is that the rider can lean their
body relative to the bicycle rear frame. This assumption is more often than not
drawn from observing no-hands riding during which the rider seems to lean
relative to the bicycle frame. A simple leaning rider can be modeled by adding
an additional rider upper body as an inverted pendulum atop the bicycle. This
introduces an additional lean degree of freedom, <span class="math">\(q_9\)</span>, and can be
accompanied by a rider lean torque, <span class="math">\(T_9\)</span> which models the rider&#8217;s
ability to apply forces between the upper torso and the rear frame.</p>
<p>Many have created variations of this model in the past including
<a class="reference internal" href="zreferences.html#lunteren1967">[VLS67]</a>, <a class="reference internal" href="zreferences.html#roland1972">[RL72]</a>, <a class="reference internal" href="zreferences.html#weir1972">[Wei72]</a>,
<a class="reference internal" href="zreferences.html#zytveld1975">[VZ75]</a>, <a class="reference internal" href="zreferences.html#nagai1983">[Nag83]</a>, etc. but, as <a class="reference internal" href="zreferences.html#roland1972">[RL72]</a> points
out, the roll torque is the more realistic control input as opposed to roll
angle as many of the other authors tend to prefer. Weir et al. notes the fact
that lean control has much less authority than steer control, and that the
rider more or less leans equal and opposite to the vehicles roll angle
<a class="reference internal" href="zreferences.html#weir1979a">[WZT79]</a>. The inverted pendulum with a roll torque has now been widely
adopted and more recent works focus on understanding these types of models
(<a class="reference internal" href="zreferences.html#sharp2007">[Sha07a]</a>, <a class="reference internal" href="zreferences.html#sharp2008a">[Sha08]</a>, <a class="reference internal" href="zreferences.html#schwab2008">[SKM08]</a>,
<a class="reference internal" href="zreferences.html#peterson2008a">[PH08b]</a>, etc.), with the hypothesis that control by roll torque
is much less effective than steer torque being confirmed in all these studies.</p>
<p>To build the same model, we define the upper body hinge as a horizontal line at
a distance <span class="math">\(d_4\)</span> below the rear wheel center when the bicycle is in the
nominal configuration. The direction cosine matrix relating the upper body to
the rear frame is</p>
<div class="math" id="equation-eqDCMGtoC">
<span class="eqno">(22)</span>\[\begin{split}^C\mathbf{R}^G =
\begin{bmatrix}
  c_\lambda &amp; 0 &amp; s_\lambda\\
  -s_\lambda s_9 &amp; c_9 &amp; c_\lambda s_9\\
  -s_\lambda c_9 &amp; -s_9 &amp; c_\lambda c_9
\end{bmatrix}\end{split}\]</div>
<p>A point, <span class="math">\(c_g\)</span>, on the hinge is then defined as</p>
<div class="math" id="equation-eqLocCg">
<span class="eqno">(23)</span>\[\bar{R}^{c_g/d_o} = -d_4s_\lambda\hat{c}_1 + d_4c_\lambda\hat{c}_3\]</div>
<p>where <span class="math">\(\lambda\)</span> is the steer axis tilt and is a function of <span class="math">\(d_1\)</span>,
<span class="math">\(d_2\)</span>, and <span class="math">\(d_3\)</span> as described in <a class="reference internal" href="eom.html#eom"><em>Bicycle Equations Of Motion</em></a>.</p>
<p>The mass center is located by</p>
<div class="math" id="equation-eqLocGo">
<span class="eqno">(24)</span>\[\bar{R}^{g_o/c_g} = l_5 \hat{g}_1 + l_6 \hat{g}_3\]</div>
<p>The angular velocity and angular acceleration of the upper body in the bicycle
frame is defined as</p>
<div class="math" id="equation-eqOmegaCinG">
<span class="eqno">(25)</span>\[^C\bar{\omega}^G = u_9 \hat{g}_1\]</div>
<div class="math" id="equation-eqAlphaCinG">
<span class="eqno">(26)</span>\[^C\bar{\alpha}^G = \dot{u}_9 \hat{g}_1\]</div>
<p>with <span class="math">\(u_9=\dot{q}_9\)</span>. The linear velocities of the hinge point and the
upper body center of mass are</p>
<div class="math" id="equation-eqVCgInN">
<span class="eqno">(27)</span>\[^N\bar{v}^{c_g} = {}^N\bar{v}^{d_o} + {}^N\bar\omega^C\times\bar{r}^{c_g/d_o}\]</div>
<p>where</p>
<div class="math">
\[\begin{split}^N\bar\omega^C\times\bar{r}^{c_g/d_o} =
&amp;d_4c_\lambda(u_5+s_4u_3)\hat{c}_1 -\\
&amp;d_4(s_\lambda(s_5u_4+c_4c_5u_3)+c_\lambda(c_5u_4-s_5c_4u_3))\hat{c}_2 +\\
&amp;d_4s_\lambda(u_5+s_4u_3)\hat{c}_3\end{split}\]</div>
<p>and</p>
<div class="math" id="equation-eqVGoInN">
<span class="eqno">(28)</span>\[^N\bar{v}^{g_o} = {}^N\bar{v}^{c_g} + {}^N\bar\omega^G\times\bar{r}^{g_o/c_g}\]</div>
<p>where</p>
<div class="math">
\[\begin{split}^N\bar\omega^G\times\bar{r}^{g_o/c_g} =
&amp;-l_6(s_9s_{\lambda-5}u_4-c_9u_5-(s_4c_9+s_9c_4c_{\lambda-5})u_3)\hat{g}_1 +\\
&amp;(-l_6(u_9+c_{\lambda-5}u_4+c_4s_{\lambda-5}u_3)-l_5(s_9u_5+
c_9s_{\lambda-5}u_4+(s_4s_9-c_4c_9c_{\lambda-5})u_3))\hat{g}_2 +\\
&amp;l_5(s_9s_{\lambda-5}u_4-c_9u_5-(s_4c_9+s_9c_4c_{\lambda-5})u_3)\hat{g}_3\end{split}\]</div>
<p>The linear accelerations of the hinge point and the upper body center of mass
are as follows</p>
<div class="math" id="equation-eqACginN">
<span class="eqno">(29)</span>\[^N\bar{a}^{c_g} = {}^N\bar{a}^{d_o} +
{}^N\omega^C\times(^N\omega^C\times\bar{r}^{c_g/d_o}) +
{}^N\bar{\alpha}^C\times\bar{r}^{c_g/d_o}\]</div>
<p>where</p>
<div class="math">
\[\begin{split}^N\omega^C\times(^N\omega^C\times\bar{r}^{c_g/d_o}) =
&amp;d_4(s_\lambda(u_5+s_4u_3)^2+(s_5u_4+c_4c_5u_3)(s_\lambda(s_5u_4+
c_4c_5u_3)+\\
&amp;c_\lambda(c_5u_4-s_5c_4u_3)))\hat{c}_1 +\\
&amp;d_4(u_5+s_4u_3)(c_\lambda(s_5u_4+c_4c_5u_3)-s_\lambda(c_5u_4-
s_5c_4u_3))\hat{c}_2 -\\
&amp;d_4(c_\lambda(u_5+s_4u_3)^2+(c_5u_4-s_5c_4u_3)(s_\lambda(s_5u_4+
c_4c_5u_3)+\\
&amp;c_\lambda(c_5u_4-s_5c_4u_3)))\hat{c}_3\end{split}\]</div>
<p>and</p>
<div class="math">
\[\begin{split}^N\bar{\alpha}^C\times\bar{r}^{c_g/d_o} =
&amp;d_4c_\lambda(c_4u_3u_4+\dot{u}_5+s_4\dot{u}_3)\hat{c}_1 +\\
&amp;d_4(s_\lambda(s_4c_5u_3u_4+s_5c_4u_3u_5-c_5u_4u_5-s_5\dot{u}_4-
c_4c_5\dot{u}_3)-\\
&amp;c_\lambda(s_4s_5u_3u_4+c_5\dot{u}_4-s_5u_4u_5-
c_4c_5u_3u_5-s_5c_4\dot{u}_3))\hat{c}_2 +\\
&amp;d_4s_\lambda(c_4u_3u_4+\dot{u}_5+s_4\dot{u}_3)\hat{c}_3\end{split}\]</div>
<p>and</p>
<div class="math" id="equation-eqAGoinN">
<span class="eqno">(30)</span>\[^N\bar{a}^{g_o} = {}^N\bar{a}^{c_g} +
{}^N\omega^G\times(^N\omega^G\times\bar{r}^{g_o/c_g}) +
{}^N\bar{\alpha}^G\times\bar{r}^{g_o/c_g}\]</div>
<p>where</p>
<div class="math">
\[\begin{split}^N\omega^G\times(^N\omega^G\times\bar{r}^{g_o/c_g}) =
&amp;(-l_5(s_9s_{\lambda-5}u_4-c_9u_5-(s_4c_9+s_9c_4c_{\lambda-5})u_3)^2-\\
&amp;(s_9u_5+c_9s_{\lambda-5}u_4+(s_4s_9-\\
&amp;c_4c_9c_{\lambda-5})u_3)(l_6(u_9+
c_{\lambda-5}u_4+c_4s_{\lambda-5}u_3)+\\
&amp;l_5(s_9u_5+c_9s_{\lambda-5}u_4+
(s_4s_9-c_4c_9c_{\lambda-5})u_3)))\hat{g}_1 -\\
&amp;(s_9s_{\lambda-5}u_4-c_9u_5-(s_4c_9+s_9c_4c_{\lambda-5})u_3)(l_5(u_9+
c_{\lambda-5}u_4+c_4s_{\lambda-5}u_3)-\\
&amp;l_6(s_9u_5+c_9s_{\lambda-5}u_4+(s_4s_9-c_4c_9c_{\lambda-5})u_3))\hat{g}_2+\\
&amp;(-l_6(s_9s_{\lambda-5}u_4-c_9u_5-(s_4c_9+s_9c_4c_{\lambda-5})u_3)^2-\\
&amp;(u_9+c_{\lambda-5}u_4+c_4s_{\lambda-5}u_3)(l_6(u_9+c_{\lambda-5}u_4+\\
&amp;c_4s_{\lambda-5}u_3)+l_5(s_9u_5+c_9s_{\lambda-5}u_4+(s_4s_9-
c_4c_9c_{\lambda-5})u_3)))\hat{g}_3\end{split}\]</div>
<p>where</p>
<div class="math">
\[\begin{split}^N\bar{\alpha}^G\times\bar{r}^{g_o/c_g} =
&amp;-l_6(s_9u_5u_9+c_9s_{\lambda-5}u_4u_9+u_3(s_4s_9u_9+s_4s_9c_{\lambda-5}u_4-
c_4c_9u_4-s_9c_4s_{\lambda-5}u_5-\\
&amp;c_4c_9c_{\lambda-5}u_9)+s_9s_{\lambda-5}\dot{u}_4-s_9c_{\lambda-5}u_4u_5-c_9\dot{u}_5-
(s_4c_9+s_9c_4c_{\lambda-5})\dot{u}_3)\hat{g}_1 +\\
&amp;(l_6(s_4s_{\lambda-5}u_3u_4+c_4c_{\lambda-5}u_3u_5-s_{\lambda-5}u_4u_5-
\dot{u}_9-c_{\lambda-5}\dot{u}_4-c_4s_{\lambda-5}\dot{u}_3)+\\
&amp;l_5(s_9s_{\lambda-5}u_4u_9+c_9c_{\lambda-5}u_4u_5-
c_9u_5u_9-u_3(s_4c_9u_9+s_9c_4u_4+s_4c_9c_{\lambda-5}u_4+\\
&amp;s_9c_4c_{\lambda-5}u_9-c_4c_9s_{\lambda-5}u_5)-
s_9\dot{u}_5-c_9s_{\lambda-5}\dot{u}_4-
(s_4s_9-c_4c_9c_{\lambda-5})\dot{u}_3))\hat{g}_2 +\\
&amp;l_5(s_9u_5u_9+c_9s_{\lambda-5}u_4u_9+u_3(s_4s_9u_9+s_4s_9c_{\lambda-5}u_4-
c_4c_9u_4-s_9c_4s_{\lambda-5}u_5-\\
&amp;c_4c_9c_{\lambda-5}u_9)+s_9s_{\lambda-5}\dot{u}_4-
s_9c_{\lambda-5}u_4u_5-c_9\dot{u}_5-(s_4c_9+
s_9c_4c_{\lambda-5})\dot{u}_3)\hat{g}_3\end{split}\]</div>
<p>We introduce two additional torques. The first is an input torque between the
rear frame and the rider&#8217;s upper body, <span class="math">\(T_9\)</span>. This can be considered as
the active torque contribution which the rider&#8217;s control system would provide.
The second torque is defined as</p>
<div class="math" id="equation-eqPassiveTorque">
<span class="eqno">(31)</span>\[T_9^p = -c_9 u_9 - k_9 q_9\]</div>
<p>where <span class="math">\(c_9\)</span> and <span class="math">\(k_9\)</span> are damping and stiffness coefficients which
are provided as way to characterize the passive torques generated by the
tissue, ligament, tendon, and bone structures. A free lean joint without this
passive torque is far from realistic as large active torques would be required
to keep the body upright. These are equivalent to simple proportional and
derivative negative feedback on the roll angle and could be defined as such
equivalently.</p>
<p>The additional generalized force is</p>
<div class="math" id="equation-eqGravity">
<span class="eqno">(32)</span>\[\bar{R}^{g_o} = m_Gg\hat{n}_3\]</div>
<p>and the generalized torques are modified to include the new torques</p>
<div class="math" id="equation-eqGenTorques">
<span class="eqno">(33)</span>\[\bar{T}^C = T_4\hat{a}_1 - T_6\hat{c}_2 - T_7\hat{c}_3 +
(k_9q_9+c_9u_9-T_9)\hat{g}_1\]\[\bar{T}^G = -(k_9q_9+c_9u_9-T_9)\hat{g}_1\]</div>
<p>The mass of the upper body is <span class="math">\(m_g\)</span> and it is assumed to by
symmetric about its sagittal plane</p>
<div class="math" id="equation-eqIG2">
<span class="eqno">(34)</span>\[\begin{split}\mathbf{I}_G =
\begin{bmatrix}
  I_{G11} &amp; 0 &amp; I_{G13}\\
  0 &amp; I_{G22} &amp; 0\\
  I_{G13} &amp; 0 &amp; I_{G33}
\end{bmatrix}\end{split}\]</div>
<p>The equations of motion are again formed using Kane&#8217;s method and linearized as
described in Chapter <a class="reference internal" href="eom.html#eom"><em>Bicycle Equations Of Motion</em></a>. This linear model has been explicitly explored
by both <a class="reference internal" href="zreferences.html#schwab2008">[SKM08]</a> and <a class="reference internal" href="zreferences.html#peterson2008a">[PH08b]</a> with parameter values
estimated by proportioning the benchmark parameter set from
<a class="reference internal" href="zreferences.html#meijaard2007">[MPRS07]</a>. The following plot, <a class="reference internal" href="#figriderlean"><em>Figure 4.15</em></a>,
uses more realistic rider parameters which are generated with methods described
in Chapter <a class="reference internal" href="physicalparameters.html#physicalparameters"><em>Physical Parameters</em></a> and the passive lean torque coefficients
are set to zero to demonstrate the nature of the system with no passive
stiffness and damping. Notice that the largest eigenvalue is much larger than
those reported in Schwab and Peterson with a time to double of about a tenth of
a second. We found that root difficult to stabilize when employing a manual
control model based on the one presented in Chapter <a class="reference internal" href="control.html#control"><em>Control</em></a>, which
suggests the need and existence for some additional passive stabilization.</p>
<div class="figure align-center" id="figriderlean">
<a class="reference external image-reference" href="_images/rider-lean.png"><img alt="_images/rider-lean.png" src="_images/rider-lean.png" style="width: 5in;" /></a>
<p class="caption">The magnitudes of the eigenvalue components with respect to the forward
speed for the leaning rider model. The solid lines show the real parts and
the dotted lines show the imaginary parts, with color matching the parts for
a given eigenvalue. Generated by <tt class="docutils literal"><span class="pre">src/extensions/lean/riderlean.py</span></tt>.</p>
</div>
<p>The damping and stiffness coefficients can be selected such that the highly
unstable rider mode is stabilized and the stable speed range observed in the
Whipple model is restored, <a class="reference internal" href="#figriderleanpassive"><em>Figure 4.16</em></a>. It is likely
that control strategies that work with the Whipple model can be applied to this
model with appropriate stiffness and damping selections. The parameters used
are taken from <a class="reference internal" href="zreferences.html#lorenzo1996">[DLH96]</a>, which he estimated to be, <span class="math">\(k_9=128\)</span>
N-m/rad and <span class="math">\(c_9=50\)</span> N-m/rad/s.</p>
<div class="figure align-center" id="figriderleanpassive">
<a class="reference external image-reference" href="_images/rider-lean-damp-stiff.png"><img alt="_images/rider-lean-damp-stiff.png" src="_images/rider-lean-damp-stiff.png" style="width: 5in;" /></a>
<p class="caption">The magnitudes of the eigenvalue components with respect to the forward speed for
the leaning rider model. The solid lines show the real parts and the dotted
lines show the imaginary parts, with color matching the parts for a given
eigenvalue. Generated by <tt class="docutils literal"><span class="pre">src/extensions/lean/riderlean.py</span></tt>.</p>
</div>
<p>The leaning rider model exhibits a very fast, unstable eigenmode which is
constant with respect to speed when the upper body is treated as a simple
inverted pendulum. In general, rider lean degrees of freedom have a
de-stabilizing effect to the Whipple model. A combination of the rider&#8217;s active
and passive postural control most likely stabilizes this mode in the real
system, but it is debatable whether the passive control alone completely
stabilizes the mode.</p>
<div class="section" id="id39">
<h3>Notation<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><span class="math">\(d_4\)</span></dt>
<dd>The distance to the torso hinge.</dd>
<dt><span class="math">\(l_5,l_6\)</span></dt>
<dd>Distances to locate the upper body mass center.</dd>
<dt><span class="math">\(s_{\lambda-5}\)</span>, <span class="math">\(c_{\lambda-5}\)</span></dt>
<dd>Shorthand for <span class="math">\(\operatorname{sin}(\lambda-q_5)\)</span> and
<span class="math">\(\operatorname{sin}(\lambda-q_5)\)</span>.</dd>
<dt><span class="math">\(c_g\)</span></dt>
<dd>Rider hinge point.</dd>
<dt><span class="math">\(c_9,k_9\)</span></dt>
<dd>The passive stiffness and damping coefficients.</dd>
<dt><span class="math">\(m_g\)</span></dt>
<dd>Mass of the upper body (torso, arms, neck, and head).</dd>
<dt><span class="math">\(\mathbf{I}_g\)</span></dt>
<dd>Inertia of the upper body.</dd>
<dt><span class="math">\(T_9\)</span></dt>
<dd>The active torque acting between the rider&#8217;s upper body and the rear frame.</dd>
<dt><span class="math">\(T_9^p\)</span></dt>
<dd>The passive torque acting between the rider&#8217;s upper body and the rear frame.</dd>
</dl>
</div>
</div>
<div class="section" id="david-de-lorenzo-extension">
<h2>David de Lorenzo extension<a class="headerlink" href="#david-de-lorenzo-extension" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id40">
<h3>Preface<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h3>
<p>To expand on the ideas presented in the previous section, I&#8217;d like to share
some findings from a short conference paper that Luke Peterson and I put
together for the 11th International Symposium on Computer Simulation in
Biomechanics <a class="reference internal" href="zreferences.html#moore2007">[MPH07]</a>. I have included it here almost verbatim but have
updated the writings to tie it better into the dissertation and make it less
dated. I have not updated the derivation of the equations of motion to reflect
the parameters and methodology presented in this dissertation, so I will leave
those out but they can be found in the source code. Nonetheless the model can
be systematically derived in the same fashion as the previous sections. The
initial interest in this model was based on an unpublished paper by de Lorenzo
and Hubbard <a class="reference internal" href="zreferences.html#lorenzo1996">[DLH96]</a> which explored parameter studies of a model similar
to the one that is presented. Here we pursue the effects that passive springs
and dampers at the biomechanical joints have on the stability of the bicycle,
in much the same way as in the previous section but with a more complex rider
model.</p>
</div>
<div class="section" id="id43">
<h3>Introduction<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h3>
<p>We build on the Whipple model by adding biomechanical degrees of freedom that
capture the dominant rider&#8217;s motion and the flexible coupling to the rear
frame. The rationale for doing so is that the mass and inertia of a rider is
much larger than that of the bicycle, and the coupling between the rider and
the bicycle is certainly not rigid. Rider modeling has been approached in the
motorcycle literature <a class="reference internal" href="zreferences.html#limebeer2006">[LS06]</a> but typically does not address the
smaller vehicle inertial properties and the possible difference in the coupling
constants. For example, when riding a bicycle, it is easy to observe that the
frame yaw and roll motions differ from the rider yaw and roll motions.
Modeling the rider and frame as a single rigid body ignores this flexible
coupling. In this analysis, we seek to understand the effect of the addition of
these new degrees of freedom on the stable speed ranges of the bicycle. We
examine the additional modes associated with the new degrees of freedom and how
they impact the weave, capsize, and caster modes seen in the Whipple model.</p>
</div>
<div class="section" id="methods">
<h3>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h3>
<p>Beginning with the Whipple model, the bicycle/rider rigid body is divided into
three separate bodies; the bicycle rear frame, the rider lower body and the
rider upper body. The lower body includes the legs and hips while the upper
body includes the torso, arms, and head. Three additional generalized
coordinates are used to configure the rider rigid bodies with respect to the
frame and to each other. The first two are the lateral rotation of the lower
body about a pivot point at the feet and lateral rotation of the upper body
with respect to the lower body, both about horizontal axes parallel to the
forward axis of the bicycle frame. The lower body is connected to the frame at
the foot pivot by a revolute joint and at the seat by a linear spring and
damper in parallel. The third coordinate is the twist of the upper body
relative to the lower body about a nominally vertical axis. Both upper body
lean and twist motions are resisted by linear torsional springs and dampers,
also in parallel. These rider degrees of freedom are detailed in <a class="reference internal" href="#figlorenzoconfiguration"><em>Figure
4.17</em></a> and are similar to the motorcycle rider model
constructed by Katayama, et al. <a class="reference internal" href="zreferences.html#katayama1988">[KAN88]</a> with the exception of the rider
twist. The lateral linear spring and damper represents the connection between
the rider’s crotch and the seat<a class="footnote-reference" href="#crotch" id="id46">[1]</a>. The spring and damper constants are
influenced by the seat and the properties of the skeletal muscle tissue of the
inner thighs and/or buttocks. The torsional springs and dampers represent the
musculoskeletal stiffness and damping at the hips.</p>
<div class="figure align-center" id="figlorenzoconfiguration">
<a class="reference external image-reference" href="_images/lorenzo-configuration.*"><img alt="_images/lorenzo-configuration.png" src="_images/lorenzo-configuration.png" style="width: 5in;" /></a>
<p class="caption">Pictorial description of (a) the additional rider degrees of freedom and (b)
the six rigid bodies.</p>
</div>
<p>This six-rigid-body model has eleven generalized coordinates. One generalized
coordinate (frame pitch) is eliminated by the holonomic configuration
constraints requiring that both wheels touch the ground. This leaves ten
generalized speeds, of which four are eliminated due to the nonholonomic
constraints for the purely rolling wheels. The nonlinear equations of motion
were linearized numerically about the nominal upright, constant velocity
configuration using a central differencing method with an optimum perturbation
size. The linear system is tenth order in frame roll, steer, lower body lean,
upper body lean, and upper body twist.</p>
<p>The physical parameters are adapted from <a class="reference internal" href="zreferences.html#meijaard2007">[MPRS07]</a> with exception of the
rider pivot point locations and the spring and damper constants. The pivot
point locations were measured and the spring and damper constants were taken
from <a class="reference internal" href="zreferences.html#lorenzo1996">[DLH96]</a>, which he estimated. All of the physical parameters were
chosen in such a way that, if the rider degrees of freedom are locked, the
model reduces to the benchmark Whipple model, similar to the later work done by
<a class="reference internal" href="zreferences.html#peterson2008a">[PH08b]</a> and <a class="reference internal" href="zreferences.html#schwab2008">[SKM08]</a>.</p>
</div>
<div class="section" id="results-and-discussion">
<h3>Results and Discussion<a class="headerlink" href="#results-and-discussion" title="Permalink to this headline">¶</a></h3>
<p>In order to understand how the eigenvalues impact each state variable of our
system, it is essential to examine the components of each eigenvector
corresponding to each generalized coordinate. By detailed examination, we are
able to determine how each eigenvalue contributes to each generalized
coordinate, across the range of speeds examined.</p>
<p><a class="reference internal" href="#figlorenzoeig"><em>Figure 4.18</em></a> shows the real parts of the identified
eigenvalues of the flexible rider model and <a class="reference internal" href="#figlorenzocomplex"><em>Figure
4.19</em></a>. By comparison to the Whipple model, it can be seen
that the modes are greatly affected by the additional rider states. The weave
mode has become unstable for all velocities and no stable speed range is
present. Additionally, the rider modes are all complex at all speeds.</p>
<div class="figure align-center" id="figlorenzoeig">
<a class="reference external image-reference" href="_images/lorenzo-eig.jpg"><img alt="_images/lorenzo-eig.jpg" src="_images/lorenzo-eig.jpg" style="width: 4in;" /></a>
<p class="caption">Real parts of the eigenvalues as a function of forward speed with the
stiffness and damping terms set to realistic values.</p>
</div>
<div class="figure align-center" id="figlorenzocomplex">
<a class="reference external image-reference" href="_images/lorenzo-plane.png"><img alt="_images/lorenzo-plane.png" src="_images/lorenzo-plane.png" style="width: 2in;" /></a>
<p class="caption">Root locus of the eigenvalues with respect to speed, a different view of
<a class="reference internal" href="#figlorenzoeig"><em>Figure 4.18</em></a>.</p>
</div>
<p>Examining the eigenvector of the weave mode at different velocities, we find
that at low speeds the weave mode is dominated by frame roll and steer, while
at high speeds the weave is dominated by upper body lean and twist about the
body&#8217;s long axis, <a class="reference internal" href="#figlorenzoeigvec"><em>Figure 20</em></a>. This phenomenon was also
observed by Limebeer and Sharp <a class="reference internal" href="zreferences.html#limebeer2006">[LS06]</a>. Furthermore, another unstable
oscillatory eigenvalue pair is present at velocities below about 4 m/s for this
parameter set.</p>
<div class="figure align-center" id="figlorenzoeigvec">
<img alt="_images/lorenzo-eigvec.png" src="_images/lorenzo-eigvec.png" style="width: 5in;" />
<p class="caption">Weave mode eigenvector components for the Whipple model (left) and the
de Lorenzo model (right) at 5.0 m/s.</p>
</div>
<p>As the stiffness and damping coefficients for the rider/frame coupling are
increased (by factors of about <span class="math">\(10^3\)</span> and <span class="math">\(30\)</span> respectively), the
eigenvalues begin to match those of the Whipple model, and a stable speed range
reappears. However, the values of stiffness and damping for which a stable
speed range did exist are unrealistically high <a class="reference internal" href="#figlorenzohigh"><em>Figure
21</em></a>.</p>
<div class="figure align-center" id="figlorenzohigh">
<img alt="_images/lorenzo-high.jpg" src="_images/lorenzo-high.jpg" style="width: 4in;" />
<p class="caption">Real parts of the eigenvalues as a function of forward speed with the
stiffness and damping terms set to unrealistically high values.</p>
</div>
</div>
<div class="section" id="conclusion">
<h3>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h3>
<p>The notion that the bicycle-rider system can be stable during hands-free riding
with no active control from the rider seems to be not necessarily true when the
rider&#8217;s biomechanics are modeled more realistically. For the particular set of
estimated parameters, the weave mode is unstable for the entire range of speeds
investigated when realistic flexible rider dynamics are included. While the
Whipple model provides many insights into the dynamics and control of the
bicycle, it lacks the complexity to capture the essential dynamics that are
present in open-loop hands-free riding. In particular, it is highly likely that
bicycle rider must always use active control to keep the bicycle upright and
self-stabilization is not guaranteed. Parameters studies that show the
dependence of stability across a range of speeds for ranges of stiffness and
damping at the biomechanical joints can shed more light on the system for more
conclusive results.</p>
</div>
</div>
<div class="section" id="no-hands">
<span id="secflexiblerider"></span><h2>No Hands<a class="headerlink" href="#no-hands" title="Permalink to this headline">¶</a></h2>
<p>I&#8217;ve ended up thinking a great deal about the actual biomechanical motion one
uses to balance a bicycle when riding no handed and I&#8217;ve learned much about it
by talking with colleagues such as Jim Papadopoulos, Jodi Kooijman, Arend
Schwab, and others. For the final studies in this dissertation I had intended
to do a thorough study of the dynamics of balancing with no hands by more
carefully modeling the actual biomechanics we employ during the task.
Understanding hands free balancing can also shed light into how we use our body
when we also have our hands on the bars, albeit with much smaller body motions
because steer is almost always the optimal control input to the bicycle. Steer
provides much more control authority.</p>
<p>It is relatively easy to learn to ride without using ones hands and many people
that know how to ride a bicycle can do so. Some can even navigate roads and
obstacles reasonably well. Without being able to directly affect the steering
angle for control purposes, one must somehow affect the roll angle, which in
turn is coupled to steering. Driving the roll angle drives the steer angle
which points the bicycle in the desired direction. In the purely mechanical
sense one can imagine that a rider could &#8220;lean&#8221; relative to the rear frame,
thus inducing the counter reaction causing the frame to roll the opposite
direction of the lean. Models are often the chosen with this theory in mind
<a class="reference internal" href="zreferences.html#zytveld1975">[VZ75]</a>, <a class="reference internal" href="zreferences.html#peterson2008a">[PH08b]</a>, <a class="reference internal" href="zreferences.html#schwab2008">[SKM08]</a>,
<a class="reference internal" href="zreferences.html#sharp2008a">[Sha08]</a>, etc. They are the most intuitive and simple model but the
idea of leaning may in fact be too simplistic to describe the actual
biomechanical coupling a rider has with a bicycle<a class="footnote-reference" href="#motorcyclelean" id="id56">[2]</a>.</p>
<p>The rider&#8217;s upper body is typically more than three times the mass of the
bicycle and it takes proportionally more force to move it. The studies that
will be presented in Chapters <a class="reference internal" href="delftbicycle.html#delftbicycle"><em>Delft Instrumented Bicycle</em></a> and <a class="reference internal" href="motioncapture.html#motioncapture"><em>Motion Capture</em></a> show
that the rider&#8217;s upper body both moves little relative to the rear frame and
leans little with  with respect to inertial space<a class="footnote-reference" href="#weir" id="id57">[3]</a>. In contrast the
bicycle can quickly roll relative to the relatively inertially &#8220;fixed&#8221; rider.
With that in mind, it is possible to imagine rolling the bicycle frame
underneath the body using leg and buttock muscles. The fact that during
hands-free riding one feels the seat moving back and forth under between one&#8217;s
legs, gives some evidence that the coupling at the seat is important. Another
interesting thing to note is that it is virtually impossible to control a
bicycle without both hands <em>and</em> both feet placed on the grips and pedals,
respectively. Removing ones feet from the pedals removes the ability to apply
forces from the rider&#8217;s body to the bicycle frame, which can contribute to
control of the bicycle roll angle. Secondly, it is also noteworthy that the
roll angle of the bicycle can be commanded much easier when the rider is up off
the seat (i.e. the rider contacts the bicycle only with hands and feet). This
leads me to hypothesize that no-hand-control is dependent on the rider&#8217;s
ability to roll the bicycle frame using the lower extremity muscles which are
critically dependent on the leg.</p>
<p>If that is true, then there is may be a simple model that can capture the
relative motion of the bicycle rear frame with respect to the lower extremities
and pelvis. To help confirm this I examined the data from the motion capture
experiments (Chapter <a class="reference internal" href="motioncapture.html#motioncapture"><em>Motion Capture</em></a>) of a no-hand run with the rider
pedaling. <a class="reference internal" href="#fighiptrace"><em>Figure 22</em></a> plots the motion of the coccyx and
pelvis markers in the rear frame reference frame from the perspective of
looking at the rider&#8217;s torso from the front for a single run. This plot was
shows that the coccyx moves laterally with respect to bike frame, but more
prevalent are the curves that the pelvis follows. This gives indication that
the pelvis basically rotates about an axis just below the seat that runs
longitudinally with respect to the bicycle.</p>
<p>The following video shows a rider balancing at 10 km/h without using his
hands.</p>

<center>
  <iframe width="480" height="360"
    src="https://www.youtube.com/embed/7KXQPUsA3ds"
    frameborder="0" allowfullscreen>
  </iframe>
</center><div class="figure align-center" id="fighiptrace">
<a class="reference external image-reference" href="_images/hip-trace.png"><img alt="_images/hip-trace.png" src="_images/hip-trace.png" style="width: 4in;" /></a>
<p class="caption">The hip trace from run # 3104. This plots the position of the two hip
markers and the coccyx marker relative to the bicycle&#8217;s rear frame in space
over time. <a class="reference external" href="https://www.youtube.com/7KXQPUsA3ds">View the video</a>.</p>
</div>
<p>Gilbert Gede and I began devising a harness that would both constrain the
rider&#8217;s motion to the motion observed in <a class="reference internal" href="#fighiptrace"><em>Figure 22</em></a> and
allows us to measure the forces and the kinematics involved. We created a
<a class="reference external" href="https://www.youtube.com/embed/FcAp-DbHp9M">video</a> shot from behind and shows
me balancing no-handed on a treadmill. We taped three sticks to my back: one
across the shoulders, the second to the upper portion of my spine, and the
third to the lower portion of my spine to visualize the dominant motion of the
rider with respect to the bicycle frame and how the spine moved. I chose the
stick locations based on the motion capture studies we did. This video
confirmed that the spine bend could probably be described by a single joint in
the middle of the spine and that the pelvis rolls about the seat (i.e. a
longitudinal axis just below the seat).</p>
<p>The following video demonstrates that the bicycle frame does roll
relative to the somewhat inertially fixed rider, that the hips rotate about
the seat and also that the spine may only need one laterally rotational
degree of freedom to capture the dominate spine motions.</p>

<center>
  <iframe width="420" height="315"
    src="https://www.youtube.com/embed/FcAp-DbHp9M"
    frameborder="0" allowfullscreen>
  </iframe>
</center><p>At this point, we constructed a mock-up of a harness that would both measure
these motions and limit the rider to the observed motions.</p>
<div class="figure align-center" id="figtestriderharness">
<a class="reference external image-reference" href="_images/test-rider-harness.png"><img alt="_images/test-rider-harness.png" src="_images/test-rider-harness.png" style="width: 3in;" /></a>
<p class="caption">A mock-up of a harness to measure the dominant motions of the rider&#8217;s pelvis
roll angle relative to the bicycle rear frame and the lean angle relative to
the pelvis. The lower brace (green) is affixed the rider&#8217;s pelvis and
rotates relative to the bicycle frame. The second joint allows the rider&#8217;s
torso to lean relative to the pelvis.</p>
</div>
<p>The model to describe this motion would have a revolute joint just below the
seat such that the riders pelvis can roll about a longitudinal revolute joint
just below the seat. The legs would be constrained such that the feet locked
into the foot pegs and the knee angles would be dependent on the pelvis roll
angle. Finally, the spine would be stiffened with a back brace and a single
revolute joint for back lean relative to the pelvis would be measured.</p>
<p>We intended to develop a harness and pair it with a force measuring seat post
and foot pegs which measure the downward force applied by the feet to the
bicycle. The goal would have been to characterize the both the kinematic and
kinetic coupling between the rider and the bicycle which causes the bicycle to
roll. I included this section to simply document the thoughts and effort, but
none of this was ever executed in a proper experiment.</p>
</div>
<div class="section" id="conclusions">
<h2>Conclusions<a class="headerlink" href="#conclusions" title="Permalink to this headline">¶</a></h2>
<p>Several extensions to the Whipple model have been presented. The details are
not exhaustive but provide some useful conclusions for the coming chapters. I
showed that the lateral force input we used in the control experiments must be
properly accounted for and not simply assumed to be characterized by a pure
roll torque. This force contributes to both the roll and steer degrees of
freedom which is a function of the location of the force application. Secondly,
the addition of the inertial affects of the arms change the bicycle system
dynamics significantly. In this particular case, it eliminates any possibility
for stability and the capsize mode becomes very unstable. This model will play
a role in the data analysis presented in Chapter <a class="reference internal" href="systemidentification.html#systemidentification"><em>System Identification</em></a>
because it more realistically models our test subjects&#8217; motion. In the third
section, I show how adding a flywheel to the front wheel of a bicycle can
radically change it&#8217;s stable speed regime and can make the model stable at very
low speeds, even slower than average walking. But if the inertial effects of
the rider are taken into account, the flywheel may have to spin at very high
speeds for any significant change in dynamics. Next, I show that adding various
rider degrees of freedom generally creates an unstable system, but passive
forces acting on the new joints can potentially stabilize the new modes. It is
likely that the rider must make use of a combination of both passive and active
control to keep the bicycle/rider system stable. Finally, I&#8217;ve presented some
ideas and thoughts on developing a slightly different biomechanical model of
the rider that may be a more realistic way of characterizing the motion used
for hands-free control of the bicycle.</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="crotch" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id46">[1]</a></td><td>We got a kick out of &#8220;crotch stiffness&#8221; i.e. the stiffness of the
crotch spring, and tried to encourage Mont to use the terminology when he
presented this for us in Taiwan.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="motorcyclelean" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id56">[2]</a></td><td>A model for leaning on a motorcycle makes more sense as
the mass of the motorcycle is comparable to or more than the mass of the
riders upper body.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="weir" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id57">[3]</a></td><td><a class="reference internal" href="zreferences.html#weir1979a">[WZT79]</a> points out this with respect to motorcycles, in
that the rider&#8217;s upper body mostly stays still and rider&#8217;s lean angle is
nearly equal and opposite to the motorcycle.</td></tr>
</tbody>
</table>
</div>
</div>


<!--
<script type="text/javascript">
	var disqus_developer = 1;
</script>
-->
<h2>Comments</h2>
<div id="disqus_thread"></div>
<script type="text/javascript">
  /**
    * var disqus_identifier; [Optional but recommended: Define a unique identifier (e.g. post id or slug) for this thread]
    */
  (function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = 'https://jkm-dissertation.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a
		href="https://disqus.com/?ref_noscript=jkm-dissertation">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="eom.html">Bicycle Equations Of Motion</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="physicalparameters.html">Physical Parameters</a>&#160;&#160;»
        </p>

      </div>


    <div class="footer">
        &copy; Copyright 2012, Jason K. Moore.
      Last updated on Jan 19, 2013.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
<script type="text/javascript">
var disqus_shortname = 'jkm-dissertation';
(function () {
  var s = document.createElement('script'); s.async = true;
  s.src = 'https://disqus.com/forums/jkm-dissertation/count.js';
  (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>

<div align="center">
<a rel="license" href="http://creativecommons.org/licenses/by/3.0/">
	<img
	alt="Creative Commons License" style="border-width:0"
	src="http://i.creativecommons.org/l/by/3.0/88x31.png" />
</a>
<br />
This work is licensed under a <a rel="license"
href="http://creativecommons.org/licenses/by/3.0/">Creative Commons
Attribution 3.0 Unported License</a>
</div>


  </body>
</html>
